% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fit_iv_owl.R
\name{fit.iv.owl}
\alias{fit.iv.owl}
\title{Fit an Instrumental Variable Outcome Weighted Learning Model}
\usage{
fit.iv.owl(
  itr_formula,
  iv_formula,
  trt_formula,
  mean_formula = NULL,
  method,
  trt,
  iv,
  outcome,
  dat,
  na.rm = T,
  minimize = F,
  center.outcome = F,
  kernel = "linear",
  cross = 10,
  scale = T,
  seed,
  ...
)
}
\arguments{
\item{itr_formula}{A formula specifying the variables for the individualized treatment regime model.}

\item{iv_formula}{A formula specifying the variables for the instrumental variable model.}

\item{trt_formula}{A formula specifying the variables for the treatment model.}

\item{mean_formula}{A formula specifying the variables for mean modeling (optional).}

\item{method}{A character string specifying the method, either \code{"iv owl"} or \code{"owl"}.}

\item{trt}{A string specifying the treatment variable in the dataset.}

\item{iv}{A string specifying the instrumental variable in the dataset.}

\item{outcome}{A string specifying the outcome variable in the dataset.}

\item{dat}{A data frame containing the variables specified in the formulas.}

\item{na.rm}{A logical value indicating whether to remove rows with missing data (default is \code{TRUE}).}

\item{minimize}{A logical value indicating whether to minimize the outcome (default is \code{FALSE}).}

\item{center.outcome}{A logical value indicating whether to center the outcome (default is \code{FALSE}).}

\item{kernel}{A string specifying the kernel type for SVM (default is \code{"linear"}).}

\item{cross}{An integer specifying the number of folds for cross-validation (default is \code{10}).}

\item{scale}{A logical value indicating whether to scale the data for SVM (default is \code{TRUE}).}

\item{seed}{An integer to set the random seed for reproducibility.}

\item{...}{Additional arguments passed to underlying functions.}
}
\value{
A list containing:
\item{model}{The fitted OWL model object.}
\item{value.function.IPW}{Estimated value functions using IPW.}
\item{value.function.MR}{Estimated value functions using MR.}
\item{variance}{Variance of MR estimators.}
\item{coef.owl}{Coefficients of the OWL model.}
}
\description{
This function fits an IV Outcome-Weighted Learning (IV-OWL) or OWL model for
personalized treatment regime learning. It estimates treatment effects using
instrumental variables and computes both IPW and MR estimators of value functions.
}
\examples{
# Example usage with example data
# res <- fit.iv.owl(itr_formula = ~ x1 + x2, iv_formula = ~ z1 + z2, 
#                   trt_formula = ~ x1 + x2 + z1, dat = example_data, 
#                   trt = "A", iv = "Z", outcome = "Y", 
#                   method = "iv owl", seed = 123)
# res$value.function.IPW

}
